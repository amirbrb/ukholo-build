webpackJsonp([1],[,,function(e,t,a){var s=a(1)(a(169),null,null,null,null);e.exports=s.exports},,,function(e,t,a){function s(e){a(210)}var n=a(1)(a(183),a(244),s,"data-v-fef22a44",null);e.exports=n.exports},,,function(e,t){e.exports={baseDomain:"https://ukholo.herokuapp.com",imagesDomain:"https://ukholo.herokuapp.com/images/"}},function(e,t,a){function s(e){a(192)}var n=a(1)(a(178),a(226),s,null,null);e.exports=n.exports},function(e,t,a){function s(e){a(205)}var n=a(1)(a(182),a(239),s,"data-v-63ea4960",null);e.exports=n.exports},function(e,t,a){function s(e){a(197)}var n=a(1)(a(185),a(231),s,"data-v-3d48a8fe",null);e.exports=n.exports},,,,,,,,function(e,t){e.exports={mail:1,google:2,facebook:3}},function(e,t){e.exports={table:1,map:2}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){function s(e){a(204)}var n=a(1)(a(179),a(238),s,"data-v-5e11b3cf",null);e.exports=n.exports},function(e,t,a){"use strict";a.d(t,"a",function(){return c});var s=a(12),n=a(13),i=a(3),o=a.n(i),r=a(19),l=a.n(r);s.a.use(n.a);var c=new n.a.Store({state:{initilized:!1,userData:null,currentLocation:{},notifications:[],userTools:[]},actions:{getStartUpData:function(e,t){var a,s,n=this,i=window.localStorage.mb_loginType,r=window.localStorage.mb_usercookie,c=window.localStorage.mb_passcookie;i==l.a.mail&&r&&c?(a="/login/relogin",s={mail:r,password:c,gcmRegistrationId:window.localStorage.mb_registrationId,lat:t.lat,lng:t.lng}):(a="/login/getStartupData",s={lat:t.lat,lng:t.lng}),o.a.post(a,s,function(e){e.isSuccess&&(e.data.userData&&(window.localStorage.mb_token=e.data.token,n.commit("setUserData",e.data.userData),n.state.notifications=e.data.notifications||[]),n.state.userTools=e.data.startupData.userTools),n.state.initilized=!0}).fail(function(e){console.log(e),n.state.initilized=!0})}},getters:{isInitialized:function(e){return e.initilized},isLoggedIn:function(e){return null!=e.userData},notificationsCounter:function(e){return e.notifications.length}},mutations:{setLocation:function(e,t){this.state.currentLocation={lat:parseFloat(t.lat.toString()),lng:parseFloat(t.lng.toString())}},setUserData:function(e,t){this.state.userData=t},saveUserProfile:function(e,t){this.state.userData.profile=t},saveUserTools:function(e,t){this.state.userData.tools=t},saveUserPreferences:function(e,t){this.state.userData.preferences=t}}})},,function(e,t,a){function s(e){a(209)}var n=a(1)(a(168),a(243),s,null,null);e.exports=n.exports},function(e,t,a){function s(e){a(200)}var n=a(1)(a(170),a(234),s,"data-v-46bb3046",null);e.exports=n.exports},function(e,t,a){function s(e){a(194)}var n=a(1)(a(171),a(228),s,"data-v-19bf1e1a",null);e.exports=n.exports},function(e,t,a){function s(e){a(193)}var n=a(1)(a(180),a(227),s,"data-v-18fb3684",null);e.exports=n.exports},function(e,t,a){function s(e){a(199)}var n=a(1)(a(186),a(233),s,"data-v-4553639e",null);e.exports=n.exports},,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={profile:1,tools:2}},function(e,t,a){"use strict";function s(){var e=I.a.baseDomain;j.a.ajaxSetup({beforeSend:function(t,a){a.url=e+a.url,t.setRequestHeader("mb_token",localStorage.mb_token),window.vm.isLoading=!0},complete:function(e,t,a){console.log(e.responseJSON),window.vm.isLoading=!1},global:!1,type:"POST"}),window.vm=new n.a({el:"#app",template:"<App />",components:{App:r.a},store:$.a,data:{isLoading:!1},router:M})}Object.defineProperty(t,"__esModule",{value:!0});var n=a(12),i=a(13),o=a(142),r=a.n(o),l=a(147),c=a(141),u=a(144),d=a.n(u),p=a(143),v=a.n(p),m=a(10),f=a.n(m),g=a(146),h=a.n(g),_=a(11),w=a.n(_),b=a(145),C=a.n(b),x=a(9),D=a.n(x),y=a(3),j=a.n(y),k=a(0),S=a.n(k),T=a(8),I=a.n(T),$=a(140);n.a.use(i.a),n.a.use(l.a),n.a.use(c.a),n.a.config.productionTip=!1,window.moment=S.a;var L=[{path:"/",component:f.a},{path:"/help/event",component:D.a},{path:"/events/:id",component:d.a},{path:"/events/edit/:id",component:d.a,props:{isSelfEdit:!0}},{path:"/events/chat/:id",component:v.a},{path:"/image/:id",component:C.a},{path:"/users/:id/details/",component:w.a,props:{isReadOnly:!0}},{path:"/settings",component:h.a}],M=new l.a({routes:L});window.onerror=function(e,t,a,s,n){},window.addEventListener("native.keyboardshow",function(e){}),document.addEventListener("deviceready",function(){if("undefined"!=typeof PushNotification){var e=PushNotification.init({android:{senderID:"878990424337"},ios:{sound:!0,vibration:!0,badge:!0,categories:{},windows:{}}});e.on("registration",function(e){window.localStorage.mb_registrationId=e.registrationId}),e.on("notification",function(e){window.vm.notifications.push(e)}),e.on("error",function(e){alert(e.message)})}s()},!1),window.setTimeout(function(){var e=document.createEvent("Events");e.initEvent("deviceready",!0,!1),document.dispatchEvent(e)},100)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(20),n=a.n(s),i=a(2),o=a.n(i),r=a(217),l=a.n(r),c=a(218),u=a.n(c),d=a(10),p=a.n(d),v=a(139),m=a.n(v),f=a(5),g=a.n(f),h=a(220),_=a.n(h),w=a(219),b=a.n(w);t.default={extends:o.a,name:"app",components:{Login:l.a,Register:u.a,MainView:p.a,HeaderNavbar:m.a,StateControl:g.a,EventControl:_.a,EventContextMenu:b.a},props:[],data:function(){return{isLoginForm:!0,isRegistrationForm:!1,isShowingHelp:!1,isShowingContextMenu:!1}},computed:{getEventControlLocation:function(){return this.userData.preferences.sosControlLocation},isInitialized:function(){return this.$store.getters.isInitialized},isLoggedIn:function(){return this.$store.getters.isLoggedIn}},created:function(){window.ViewType=n.a;var e=this;if(navigator.geolocation){var t={enableHighAccuracy:!0},a=function(t){var a=t.coords,s={lat:a.latitude,lng:a.longitude};e.$store.commit("setLocation",s),e.$store.dispatch("getStartUpData",{currentLocation:s})};navigator.geolocation.getCurrentPosition(a,console.log,t)}e.watchGeolocation()},methods:{watchGeolocation:function(){var e=this;if(navigator.geolocation){var t={enableHighAccuracy:!1,maximumAge:0};navigator.geolocation.watchPosition(function(t){var a=t.coords;e.$store.commit("setLocation",{lat:a.latitude,lng:a.longitude})},function(e){console.log(e)},t)}},userAuthenticated:function(e,t){var a=this;a.$store.commit("setUserData",e),localStorage.mb_token=t,a.isLoginForm=!1,a.isRegistrationForm=!1},showRegistration:function(){var e=this;e.isLoginForm=!1,e.isRegistrationForm=!0},showLogin:function(){var e=this;e.isLoginForm=!0,e.isRegistrationForm=!1},eventControlLocationChanged:function(e){var t=this;t.userData.preferences.sosControlLocation=e,this.userSettingsChanged(t.userData.preferences,t.userData.userId)},eventControlContextMenu:function(e){this.isShowingContextMenu=e}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(7),n=a.n(s),i=a(3),o=a.n(i),r=a(0),l=a.n(r),c=a(8),u=a.n(c);t.default={data:function(){return{domain:u.a.baseDomain,imagesDomain:u.a.imagesDomain}},computed:{userData:function(){return this.$store.state.userData},notifications:function(){return this.$store.state.notifications},currentLocation:function(){return this.$store.state.currentLocation}},methods:{userSettingsChanged:function(e,t){var a=this,s="/users/"+t+"/preferences",i={preferences:n()(e),userId:t};o.a.post(s,i).done(function(t){t.success&&a.$store.commit("saveUserPreferences",e)})},log:function(e){alert(e.message)},stringifyDate:function(e,t){return t=t||"DD-MMM-YYYY HH:mm:ss",l()(e).format(t)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=a.n(s),i=a(0),o=a.n(i),r=a(3),l=a.n(r);t.default={extends:n.a,components:{},props:[],data:function(){return{messages:[],timeoutId:null,newMessage:"",lastQuery:o()(new Date(-864e13)).format(),alive:!0,isLoading:!0,caseId:this.$route.params.id,isActive:this.$route.query.isActive||!1}},computed:{},created:function(){this.getChatMessages()},beforeDestroy:function(){this.alive=!1},methods:{getChatMessages:function(){var e=this,t="/events/"+e.caseId+"/messages/?q="+e.lastQuery;l.a.get(t,function(t){if(t.isSuccess){if(e.messages.push.apply(e.messages,t.data.messages),t.data.lastTimestamp&&(e.lastQuery=t.data.lastTimestamp),t.data.messages.length>0){var a=l()(e.$refs.messagesContainer);setTimeout(function(){a.stop().animate({scrollTop:a[0].scrollHeight},400)},200)}e.isLoading=!1,e.alive&&(e.timeoutId=setTimeout(e.getChatMessages,1e3))}else console.log("failed getting messages")}).fail(function(e){})},sendMessage:function(){var e=this;if(e.isActive){var t="/events/"+e.caseId+"/message/",a={caseId:e.caseId,text:e.newMessage,userId:e.userData.userId};l.a.post(t,a,function(t){t.isSuccess?e.newMessage="":console.log("failed posting message")})}}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=a.n(s),i=a(5),o=a.n(i),r=a(3),l=a.n(r),c=window.google;t.default={extends:n.a,components:{StateControl:o.a},props:["isSelfEdit"],data:function(){return{caseData:{messages:[]},commentCount:0}},created:function(){this.getData()},methods:{getData:function(){var e=this,t="/events/"+e.$route.params.id;l.a.ajax({url:t,method:"GET"}).done(function(t){if(t.isSuccess){e.caseData=t.data;var a=new c.maps.LatLng(parseFloat(e.caseData.location.lat),parseFloat(e.caseData.location.lng));e.map=new c.maps.Map(document.getElementById("caseMapContainer"),{center:a,zoom:16});new c.maps.Marker({position:a}).setMap(e.map)}else console.log("failed getting case data")}).fail(function(e){})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=a.n(s),i=a(3),o=a.n(i),r=window.google;t.default={extends:n.a,components:{},props:["mapZoomLevel","cases"],data:function(){return{map:{}}},mounted:function(){var e=this;e.map=new r.maps.Map(document.getElementById("map"),{center:{lat:e.currentLocation.lat,lng:e.currentLocation.lng},zoom:e.mapZoomLevel,disableDefaultUI:!0,mapTypeControlOptions:r.maps.MapTypeId.ROADMAP}),e.map.addListener("zoom_changed",function(){var t=e.map.getZoom();e.$emit("mapZoomChanged",t)}),e.placeDataOnMaps()},watch:{cases:function(e){var t=this;t.cases=e,t.placeDataOnMaps()}},methods:{placeDataOnMaps:function(){var e=this;e.cases.forEach(function(t){var a={lat:parseFloat(t.location.lat),lng:parseFloat(t.location.lng)},s={url:t.image,scaledSize:new r.maps.Size(40,40)},n="<a data-case-id='"+t.id+"'><h3 data-case-id='"+t.id+"'>"+t.title+"</h3></a>";n+="<p>"+t.description+"</p>";var i=new r.maps.InfoWindow({content:n});o()(document).on("click","a[data-case-id]",function(t){var a=t.target.attributes["data-case-id"].value;e.$router.push("/events/"+a),e.$emit("caseShowing")});var l=new r.maps.Marker({position:a,map:e.map,title:t.title,icon:s,optimized:!1});l.addListener("click",function(){i.open(e.map,l)}),l.setMap(e.map)})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=a.n(s);t.default={extends:n.a,components:{},props:["cases"],data:function(){return{maxDescriptionChars:90}},methods:{farwaway:function(e,t){var a=this,s=a.currentLocation.lat,n=a.currentLocation.lng,i=a.deg2rad(s-e),o=a.deg2rad(n-t),r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(a.deg2rad(e))*Math.cos(a.deg2rad(s))*Math.sin(o/2)*Math.sin(o/2),l=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)),c=6371*l;return c>1?Math.round(c,2)+" km from you":Math.round(1e3*c,2)+" meters from you"},deg2rad:function(e){return e*(Math.PI/180)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(19),n=a.n(s),i=a(3),o=a.n(i),r=a(2),l=a.n(r);t.default={extends:l.a,name:"Login",components:{},data:function(){return{hasErrors:!1,userDetails:{mail:window.localStorage.mb_usercookie,password:""}}},methods:{login:function(){var e=this;e.$validator.validateAll({email:e.userDetails.mail,password:e.userDetails.password}).then(function(t){if(t){var a={mail:e.userDetails.mail,password:e.userDetails.password,gcmRegistrationId:window.localStorage.mb_registrationId,lat:e.currentLocation.lat,lng:e.currentLocation.lng};o.a.post("/login/login",a,function(t){var a=t;e.hasErrors=!a.isSuccess,a.isSuccess?(e.$refs.letMeStay.checked&&(window.localStorage.mb_usercookie=e.userDetails.mail,window.localStorage.mb_passcookie=e.userDetails.password,window.localStorage.mb_loginType=n.a.mail),e.$refs.userAvater.src=e.imagesDomain+a.data.userData.avatar,localStorage.mb_token=a.data.token,setTimeout(function(){e.$emit("loggedIn",a.data.userData,a.data.token)},200)):e.$refs.errors.innerHTML=a.data.message}).fail(function(t){e.hasErrors=!0,e.$refs.errors.innerHTML="an error occured, please try again"})}})},showRegistration:function(){this.$emit("showRegistration")}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(3),n=a.n(s),i=a(2),o=a.n(i);t.default={extends:o.a,name:"Login",components:{},data:function(){return{hasErrors:!1,step:1,isRegistering:!1,userDetails:{mail:"",password:"",name:"",phone:"",avatar:null}}},methods:{next:function(){var e=this;e.$validator.validateAll({email:e.userDetails.mail,password:e.userDetails.password}).then(function(t){t&&(e.step+=1)})},prev:function(){this.step-=1},avatarSelected:function(){var e=this,t=e.$refs.images,a=t.files[0],s=window.URL.createObjectURL(a);e.$refs.userAvater.src=s,e.userDetails.avatar=a},register:function(){var e=this;e.$validator.validateAll({name:e.userDetails.name,phone:e.userDetails.phone}).then(function(t){if(t){var a=new FormData;a.append("mail",e.userDetails.mail),a.append("password",e.userDetails.password),a.append("name",e.userDetails.name),a.append("phoneNumber",e.userDetails.phone),a.append("gcmRegistrationId",window.localStorage.mb_registrationId),a.append("avatar",e.userDetails.avatar),a.append("lat",e.currentLocation.lat),a.append("lng",e.currentLocation.lng),n.a.ajax({url:"/login/register",data:a,processData:!1,contentType:!1}).done(function(t){var a=t;e.hasErrors=!a.isSuccess,a.isSuccess?(e.$refs.userAvater.src=e.imagesDomain+a.data.userData.avatar,localStorage.mb_token=a.data.token,setTimeout(function(){e.$emit("registered",a.data.userData,a.data.token)},200)):e.$refs.errors.innerHTML=a.data.message}).fail(function(t){e.hasErrors=!0,console.error(t)})}})},showLogin:function(){this.$emit("showLogin")}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["location"],data:function(){return{}},mounted:function(){},methods:{hideContextMenu:function(){this.$emit("hideContextMenu",!1)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(211),n=a.n(s);t.default={components:{},props:["location"],data:function(){return{}},mounted:function(){var e=this,t=e.$refs.eventControl;t.style.left=e.location.left+"px",t.style.top=e.location.top+"px";var a=new n.a(t),s=e.location.left,i=e.location.top,o=!1,r=new n.a.Press({time:800});a.add(r),a.on("press",function(t){e.$emit("contextMenu",!0)}),a.on("tap",function(t){e.$router.push("/help/event")}),a.on("pan",function(t){var a=t.target;o||(o=!0,s=a.offsetLeft,i=a.offsetTop);var n=t.deltaX+s,r=t.deltaY+i;n<0||r<0||(a.style.left=n+"px",a.style.top=r+"px",t.isFinal&&(o=!1,e.$emit("eventControlLocationChanged",{left:n,top:r})))})},methods:{}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,n=a(2),i=a.n(n),o=a(5),r=a.n(o),l=a(221),c=a.n(l),u=a(148),d=a.n(u),p=a(3),v=a.n(p),m=window.google;t.default={extends:i.a,components:{Information:c.a,StateControl:r.a},data:function(){return{help:{title:"",selectedType:"i just need some help",description:"",images:[],location:{}}}},mounted:function(){this.initAutocomplete()},methods:{hide:function(){var e=this;e.help.title="",e.help.description="",e.help.images=[];for(var t=e.$refs.imageContainer;t.firstChild;)t.removeChild(t.firstChild);e.$router.back()},initAutocomplete:function(){var e=this;s=new m.maps.places.Autocomplete(this.$refs.autocomplete,{types:["geocode"]});var t=new m.maps.Circle({center:e.currentLocation});s.setBounds(t.getBounds()),setTimeout(this.locateHelpLocation,1e3),s.addListener("place_changed",this.helpLocationChanged)},helpLocationChanged:function(){var e=this,t=s.getPlace();e.help.location={lat:t.geometry.location.lat(),lng:t.geometry.location.lng()}},locateHelpLocation:function(){var e=this;e.help.location=e.userData.currentLocation;var t="https://maps.googleapis.com/maps/api/geocode/json?latlng="+e.userData.currentLocation.lat+","+e.userData.currentLocation.lng+"&key=AIzaSyBSqo5kFr5ENcknN23v5QUfQy-zoWnpopA";d.a.get(t).then(function(t){t.data.results&&t.data.results.length>0&&(e.$refs.autocomplete.value=t.data.results[0].formatted_address)}).catch(function(e){})},callHelp:function(){var e=this;e.$validator.validateAll({title:e.help.title||e.help.selectedType}).then(function(t){if(t){var a=new FormData;a.append("userId",e.userData.userId),a.append("title",e.help.title||e.help.selectedType),a.append("description",e.help.description),a.append("lat",e.help.location.lat),a.append("lng",e.help.location.lng);for(var s=0;s<e.help.images.length;s++)a.append(e.help.images[s].image,e.help.images[s].file);v.a.ajax({url:"/events/help",data:a,processData:!1,contentType:!1}).done(function(t){t.isSuccess?e.hide():console.log("failed uploading cases")}).fail(function(e){})}})},imagesSelected:function(){for(var e=this,t=e.$refs.images,a=e.$refs.imageContainer,s=t.files,n=0;n<s.length;n++){var i=window.URL.createObjectURL(s[n]),o=v()('<div class="user-image"><img src="'+i+'"><div class="close"><i class="fa fa-times"></i></div></div>'),r=n+"_"+s[n].name;o.find(".close").click(function(){v()(this).parent(".user-image").remove(),e.removeImage(r)}),a.appendChild(o.get(0)),e.help.images.push({image:s[n].name,file:s[n],id:r})}},removeImage:function(e){var t=this,a=t.help.images.findIndex(function(t){return t.id===e});t.help.images.splice(a,1)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=a.n(s);t.default={extends:n.a,data:function(){return{}},props:[],methods:{toggleSettings:function(){var e=this;e.navbarIsOpen?e.$router.back():e.$router.push("/settings")}},computed:{navbarIsOpen:function(){return this.$route.fullPath.indexOf("settings")>0}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=a.n(s),i=a(5),o=a.n(i);t.default={extends:n.a,components:{StateControl:o.a},props:[],data:function(){return{imageId:""}},created:function(){this.imageId=this.$route.params.id},methods:{goBack:function(){this.$router.back()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=a.n(s);t.default={extends:n.a,components:{},props:["data"],data:function(){return{isShowingData:!1,timeoutId:null}},methods:{showInfo:function(){var e=this;if(e.isShowingData)e.isShowingData=!1,clearTimeout(e.timeoutId);else{e.isShowingData=!0;var t=window.event,a=e.$refs.dataElement;a.style.left=t.clientX-48+"px",a.style.top=t.clientY+15+"px",e.timeoutId=setTimeout(function(){e.isShowingData=!1},2500)}}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(3),n=a.n(s),i=a(2),o=a.n(i),r=a(20),l=a.n(r),c=a(9),u=a.n(c),d=a(216),p=a.n(d),v=a(215),m=a.n(v),f=a(139),g=a.n(f);t.default={extends:o.a,components:{EventForm:u.a,TableView:p.a,HeaderNavbar:g.a,MapView:m.a,ViewType:l.a},data:function(){return{cases:[],timeoutId:null,queryDelay:5e3}},props:[],created:function(){var e=this;window.ViewType=l.a,e.getData()},destroyed:function(){var e=this;clearTimeout(e.timeoutId)},methods:{getData:function(){var e=this;n.a.ajax({url:"/events/",method:"GET",data:{location:e.currentLocation,userId:e.userData.userId}}).done(function(t){t.isSuccess?e.cases=t.data.map(function(t){return{image:e.imagesDomain+"avatar/"+t.userId,title:t.title,description:t.description,id:t.id,location:t.location,userId:t.userId,created:t.created}}):console.log("failed getting cases"),clearTimeout(e.timeoutId),e.timeoutId=setTimeout(e.getData,e.queryDelay)}).fail(function(e){console.log(e)})},selectTableView:function(){this.selectedTabChanged(l.a.table)},selectMapView:function(){this.selectedTabChanged(l.a.map)},selectedTabChanged:function(e){var t=this;t.userData.preferences.viewType=e,t.userSettingsChanged(t.userData.preferences,t.userData.userId)},mapZoomChanged:function(e){var t=this;t.userData.preferences.mapZoomLevel=e,t.userSettingsChanged(t.userData.preferences,t.userData.userId)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=a.n(s);t.default={extends:n.a,components:{},props:[],data:function(){return{imageId:"",excludedPaths:["/settings"]}},methods:{goBack:function(){this.$router.back()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=a.n(s);t.default={extends:n.a,components:{}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(7),n=a.n(s),i=a(2),o=a.n(i),r=a(5),l=a.n(r),c=a(3),u=a.n(c);t.default={extends:o.a,components:{StateControl:l.a},props:["userId","isReadOnly"],data:function(){return{uploadedAvatar:null}},computed:{userIdParam:function(){return this.userId||this.$route.params.id}},methods:{avatarSelected:function(){var e=this,t=e.$refs.userAvatar,a=e.$refs.avatarPresent,s=new FileReader;s.onload=function(){var e=s.result;a.src=e};var n=t.files[0];e.uploadedAvatar=n,s.readAsDataURL(n),e.saveSettings()},saveSettings:function(){var e=this,t="/users/"+e.userId+"/settings/profile",a=new FormData;a.append("settings",n()(e.userData.profile)),e.uploadedAvatar&&a.append("avatar",e.uploadedAvatar),u.a.ajax({url:t,data:a,processData:!1,contentType:!1}).done(function(t){t.isSuccess&&e.$store.commit("saveUserProfile",e.userData.profile)}).fail(function(e){})},logout:function(){this.$emit("logout")}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(222),n=a.n(s),i=a(11),o=a.n(i),r=a(223),l=a.n(r),c=a(224),u=a.n(c),d=a(2),p=a.n(d),v=a(166),m=a.n(v);window.SettingsType=m.a,t.default={extends:p.a,components:{About:n.a,Profile:o.a,SettingsType:m.a,UserEvents:l.a,UserTools:u.a},methods:{logout:function(){window.localStorage.removeItem("mb_usercookie"),window.localStorage.removeItem("mb_passwordcookie"),window.localStorage.removeItem("mb_loginType"),window.localStorage.removeItem("mb_registrationId"),window.localStorage.removeItem("mb_token");var e=this;e.$store.commit("setUserData",null),e.$parent.isLoginForm=!0,e.$router.replace("/")}},created:function(){this.SettingsType=m.a},data:function(){return{selectedSettingsType:1}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(3),n=a.n(s),i=a(2),o=a.n(i);t.default={extends:o.a,components:{},props:["userId"],data:function(){return{events:[]}},created:function(){this.getData()},methods:{getData:function(){var e=this,t="/users/"+this.userId+"/events/";n.a.ajax({url:t,method:"GET"}).done(function(t){t.isSuccess?e.events=t.data.map(function(t){return{image:e.imagesDomain+"avatar/"+t.userId,title:t.title,description:t.description,id:t.id,created:t.created,isActive:t.isActive}}):console.log("failed getting cases")}).fail(function(e){console.log(e)})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(7),n=a.n(s),i=a(3),o=a.n(i);t.default={props:["userId","selectedTools"],data:function(){return{userTools:this.$store.state.userTools}},created:function(){var e=this;e.userTools.forEach(function(t){t.selected=e.selectedTools.indexOf(t.id)>-1})},mounted:function(){},methods:{saveSettings:function(){var e=this,t=o.a.grep(e.userTools,function(e){return e.selected}).map(function(e){return e.id}),a="/users/"+e.userId+"/settings/tools";o.a.ajax({url:a,data:{selectedTools:n()(t)}}).done(function(a){e.$store.commit("saveUserTools",t)}).fail(function(e){})},userToolSelectionChanged:function(e){var t=this,a=o()(e.currentTarget),s=parseInt(a.attr("data-id"));a.toggleClass("selected");for(var n in t.userTools)t.userTools[n].id==s&&(t.userTools[n].selected=a.hasClass("selected"))}}}},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t,a){function s(e){return a(n(e))}function n(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./af":21,"./af.js":21,"./ar":28,"./ar-dz":22,"./ar-dz.js":22,"./ar-kw":23,"./ar-kw.js":23,"./ar-ly":24,"./ar-ly.js":24,"./ar-ma":25,"./ar-ma.js":25,"./ar-sa":26,"./ar-sa.js":26,"./ar-tn":27,"./ar-tn.js":27,"./ar.js":28,"./az":29,"./az.js":29,"./be":30,"./be.js":30,"./bg":31,"./bg.js":31,"./bm":32,"./bm.js":32,"./bn":33,"./bn.js":33,"./bo":34,"./bo.js":34,"./br":35,"./br.js":35,"./bs":36,"./bs.js":36,"./ca":37,"./ca.js":37,"./cs":38,"./cs.js":38,"./cv":39,"./cv.js":39,"./cy":40,"./cy.js":40,"./da":41,"./da.js":41,"./de":44,"./de-at":42,"./de-at.js":42,"./de-ch":43,"./de-ch.js":43,"./de.js":44,"./dv":45,"./dv.js":45,"./el":46,"./el.js":46,"./en-au":47,"./en-au.js":47,"./en-ca":48,"./en-ca.js":48,"./en-gb":49,"./en-gb.js":49,"./en-ie":50,"./en-ie.js":50,"./en-nz":51,"./en-nz.js":51,"./eo":52,"./eo.js":52,"./es":55,"./es-do":53,"./es-do.js":53,"./es-us":54,"./es-us.js":54,"./es.js":55,"./et":56,"./et.js":56,"./eu":57,"./eu.js":57,"./fa":58,"./fa.js":58,"./fi":59,"./fi.js":59,"./fo":60,"./fo.js":60,"./fr":63,"./fr-ca":61,"./fr-ca.js":61,"./fr-ch":62,"./fr-ch.js":62,"./fr.js":63,"./fy":64,"./fy.js":64,"./gd":65,"./gd.js":65,"./gl":66,"./gl.js":66,"./gom-latn":67,"./gom-latn.js":67,"./gu":68,"./gu.js":68,"./he":69,"./he.js":69,"./hi":70,"./hi.js":70,"./hr":71,"./hr.js":71,"./hu":72,"./hu.js":72,"./hy-am":73,"./hy-am.js":73,"./id":74,"./id.js":74,"./is":75,"./is.js":75,"./it":76,"./it.js":76,"./ja":77,"./ja.js":77,"./jv":78,"./jv.js":78,"./ka":79,"./ka.js":79,"./kk":80,"./kk.js":80,"./km":81,"./km.js":81,"./kn":82,"./kn.js":82,"./ko":83,"./ko.js":83,"./ky":84,"./ky.js":84,"./lb":85,"./lb.js":85,"./lo":86,"./lo.js":86,"./lt":87,"./lt.js":87,"./lv":88,"./lv.js":88,"./me":89,"./me.js":89,"./mi":90,"./mi.js":90,"./mk":91,"./mk.js":91,"./ml":92,"./ml.js":92,"./mr":93,"./mr.js":93,"./ms":95,"./ms-my":94,"./ms-my.js":94,"./ms.js":95,"./my":96,"./my.js":96,"./nb":97,"./nb.js":97,"./ne":98,"./ne.js":98,"./nl":100,"./nl-be":99,"./nl-be.js":99,"./nl.js":100,"./nn":101,"./nn.js":101,"./pa-in":102,"./pa-in.js":102,"./pl":103,"./pl.js":103,"./pt":105,"./pt-br":104,"./pt-br.js":104,"./pt.js":105,"./ro":106,"./ro.js":106,"./ru":107,"./ru.js":107,"./sd":108,"./sd.js":108,"./se":109,"./se.js":109,"./si":110,"./si.js":110,"./sk":111,"./sk.js":111,"./sl":112,"./sl.js":112,"./sq":113,"./sq.js":113,"./sr":115,"./sr-cyrl":114,"./sr-cyrl.js":114,"./sr.js":115,"./ss":116,"./ss.js":116,"./sv":117,"./sv.js":117,"./sw":118,"./sw.js":118,"./ta":119,"./ta.js":119,"./te":120,"./te.js":120,"./tet":121,"./tet.js":121,"./th":122,"./th.js":122,"./tl-ph":123,"./tl-ph.js":123,"./tlh":124,"./tlh.js":124,"./tr":125,"./tr.js":125,"./tzl":126,"./tzl.js":126,"./tzm":128,"./tzm-latn":127,"./tzm-latn.js":127,"./tzm.js":128,"./uk":129,"./uk.js":129,"./ur":130,"./ur.js":130,"./uz":132,"./uz-latn":131,"./uz-latn.js":131,"./uz.js":132,"./vi":133,"./vi.js":133,"./x-pseudo":134,"./x-pseudo.js":134,"./yo":135,"./yo.js":135,"./zh-cn":136,"./zh-cn.js":136,"./zh-hk":137,"./zh-hk.js":137,"./zh-tw":138,"./zh-tw.js":138};s.keys=function(){return Object.keys(i)},s.resolve=n,e.exports=s,s.id=213},,function(e,t,a){function s(e){a(195)}var n=a(1)(a(172),a(229),s,null,null);e.exports=n.exports},function(e,t,a){function s(e){a(207)}var n=a(1)(a(173),a(241),s,"data-v-7cca45c6",null);e.exports=n.exports},function(e,t,a){function s(e){a(201)}var n=a(1)(a(174),a(235),s,"data-v-50d87b52",null);e.exports=n.exports},function(e,t,a){function s(e){a(202)}var n=a(1)(a(175),a(236),s,"data-v-52eff76c",null);e.exports=n.exports},function(e,t,a){function s(e){a(208)}var n=a(1)(a(176),a(242),s,"data-v-7eac71f4",null);e.exports=n.exports},function(e,t,a){function s(e){a(198)}var n=a(1)(a(177),a(232),s,"data-v-42114d35",null);e.exports=n.exports},function(e,t,a){function s(e){a(206)}var n=a(1)(a(181),a(240),s,"data-v-647db7ca",null);e.exports=n.exports},function(e,t,a){function s(e){a(191)}var n=a(1)(a(184),a(225),s,"data-v-01eadc22",null);e.exports=n.exports},function(e,t,a){function s(e){a(203)}var n=a(1)(a(187),a(237),s,"data-v-5673d6ff",null);e.exports=n.exports},function(e,t,a){function s(e){a(196)}var n=a(1)(a(188),a(230),s,"data-v-2de72536",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"about"},[e._v("\n  about  \n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sos-request col-xs-12"},[a("div",{staticClass:"form-group has-feedback",staticStyle:{"margin-top":"20px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.help.title,expression:"help.title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"form-control":!0,"error-input":e.errors.has("title")},attrs:{name:"title",placeholder:"tell others what is needed"},domProps:{value:e.help.title},on:{input:function(t){t.target.composing||(e.help.title=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"glyphicon glyphicon-exclamation-sign form-control-feedback"})]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"form-group has-feedback"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.help.selectedType,expression:"help.selectedType"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control shown",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.help.selectedType=t.target.multiple?a:a[0]}}},[a("option",[e._v("i just need some help")]),e._v(" "),a("option",[e._v("in house assistance")]),e._v(" "),a("option",[e._v("car fixing")]),e._v(" "),a("option",[e._v("cooking and baking")])])]),e._v(" "),a("div",{staticClass:"form-group has-feedback"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.help.description,expression:"help.description"}],staticClass:"form-control",attrs:{name:"description",placeholder:"describe others what is needed - try to be specific",rows:"4"},domProps:{value:e.help.description},on:{input:function(t){t.target.composing||(e.help.description=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group has-feedback"},[a("input",{ref:"autocomplete",staticClass:"form-control",attrs:{placeholder:"where sre you?",type:"text"}}),e._v(" "),a("span",{staticClass:"glyphicon glyphicon-map-marker col-xs-offset-1 form-control-feedback"})]),e._v(" "),a("div",{staticClass:"form-group has-feedback col-xs-8 col-md-3"},[a("label",{staticClass:"file-container"},[e._m(1),e._v(" "),a("input",{ref:"images",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:e.imagesSelected}})]),e._v(" "),a("Information",{attrs:{data:"provide users with images of the issue so they can help"}})],1),e._v(" "),a("div",{staticClass:"form-group col-xs-12"},[a("div",{ref:"imageContainer",staticClass:"images-container",attrs:{id:"imageContainer"}})]),e._v(" "),a("div",{staticClass:"form-group text-center col-xs-12"},[a("a",{staticClass:"btn btn-primary call-help-btn",on:{click:e.callHelp}},[e._v("SOS")])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"seperator"},[a("span",[e._v("OR (choose)")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"btn btn-default file-loader"},[a("span",{staticClass:"fa fa-upload"}),a("p",[e._v("Choose images")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"image-view col-xs-12"},[a("img",{attrs:{src:e.imagesDomain+this.imageId}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"case-view col-xs-12"},[a("h3",{staticClass:"case-title"},[e._v(e._s(e.caseData.title))]),e._v(" "),a("div",{staticClass:"case-data-wrraper"},[a("div",{staticClass:"case-description"},[e._v(e._s(e.caseData.description))]),e._v(" "),a("div",{staticClass:"case-images"},e._l(e.caseData.images,function(t){return a("router-link",{attrs:{to:"/image/"+t}},[a("img",{attrs:{src:e.imagesDomain+t}})])}))]),e._v(" "),e.isSelfEdit?e._e():a("div",{staticClass:"case-issuer-wrapper"},[e.caseData.user?a("router-link",{attrs:{to:{path:"/users/"+e.caseData.userId+"/details/"}}},[e.caseData.user?a("img",{attrs:{src:e.imagesDomain+"avatar/"+e.caseData.userId}}):e._e()]):e._e()],1),e._v(" "),a("div",{staticClass:"case-messages-wrapper"},[a("router-link",{attrs:{to:{path:"/events/chat/"+e.$route.params.id+"?isActive="+e.caseData.isActive}}},[e.caseData.messages?a("i",{staticClass:"fa fa-comment-o",attrs:{counter:e.caseData.messages.length>10?"10+":e.caseData.messages.length,"aria-hidden":"true"}}):e._e()])],1),e._v(" "),e.isSelfEdit?e._e():a("div",{staticClass:"case-actions-wrapper"},[e.caseData.user?a("a",{attrs:{href:"tel:"+e.caseData.user.phoneNumber}},[a("i",{staticClass:"fa fa-phone",attrs:{"aria-hidden":"true"}})]):e._e()]),e._v(" "),a("div",{attrs:{id:"caseMapContainer"}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map-view view-container"},[a("div",{attrs:{id:"map"}})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{clas:"container text-center"}},[e._m(0),e._v(" "),a("div",{staticClass:"tools-container col-xs-12"},e._l(e.userTools,function(t){return a("div",{class:{"user-tool":!0,"col-xs-5":!0,selected:t.selected},attrs:{"data-id":t.id},on:{click:e.userToolSelectionChanged}},[a("div",{staticClass:"tool-title"},[e._v(e._s(t.title))]),e._v(" "),a("div",{class:"tool-image fa fa-"+t.class})])})),e._v(" "),a("div",{staticClass:"save-settings"},[a("a",{staticClass:"btn btn-sm btn-default",on:{click:e.saveSettings}},[e._v("save settings")])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title text-center"},[a("p",{staticClass:"title-1"},[e._v("SPREAD YOUR LOVE")]),e._v(" "),a("p",[e._v("tell us what you can do")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile"},[a("div",{staticClass:"avatar section container"},[a("label",{staticClass:"file-container"},[e.userData.profile.avatar?a("img",{ref:"avatarPresent",staticClass:"user-avatar",attrs:{src:e.imagesDomain+e.userData.profile.avatar}}):e._e(),e._v(" "),a("input",{ref:"userAvatar",attrs:{type:"file",accept:"image/*",capture:"capture",disabled:e.isReadOnly},on:{change:e.avatarSelected}})])]),e._v(" "),a("div",{staticClass:"basics section container"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-xs-4 col-sm-3",attrs:{for:"name"}},[e._v("name:")]),e._v(" "),a("div",{staticClass:"col-xs-8 text-left"},[e.isReadOnly?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.profile.name,expression:"userData.profile.name"}],staticClass:"form-control ok-form-control",attrs:{id:"name",placeholder:"name",name:"name"},domProps:{value:e.userData.profile.name},on:{blur:e.saveSettings,input:function(t){t.target.composing||(e.userData.profile.name=t.target.value)}}}),e._v(" "),e.isReadOnly?a("label",{staticClass:"data"},[e._v(e._s(e.userData.profile.name))]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-xs-4 col-sm-3",attrs:{for:"phone"}},[e._v("phone:")]),e._v(" "),a("div",{staticClass:"col-xs-8 text-left"},[e.isReadOnly?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.profile.phoneNumber,expression:"userData.profile.phoneNumber"}],staticClass:"form-control ok-form-control",attrs:{type:"number",id:"phone",placeholder:"phone",readonly:e.isReadOnly,name:"phone"},domProps:{value:e.userData.profile.phoneNumber},on:{blur:e.saveSettings,input:function(t){t.target.composing||(e.userData.profile.phoneNumber=t.target.value)}}}),e._v(" "),e.isReadOnly?a("label",{staticClass:"data"},[a("a",{attrs:{href:"tel:"+e.userData.profile.phoneNumber}},[e._v(e._s(e.userData.profile.phoneNumber))])]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-xs-4 col-sm-3",attrs:{for:"mail"}},[e._v("mail:")]),e._v(" "),a("div",{staticClass:"col-xs-8 text-left"},[e.isReadOnly?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.profile.mail,expression:"userData.profile.mail"}],staticClass:"form-control ok-form-control",attrs:{type:"mail",id:"mail",placeholder:"e-mail",readonly:e.isReadOnly,name:"mail"},domProps:{value:e.userData.profile.mail},on:{blur:e.saveSettings,input:function(t){t.target.composing||(e.userData.profile.mail=t.target.value)}}}),e._v(" "),e.isReadOnly?a("label",{staticClass:"data"},[a("a",{attrs:{href:"mailto:"+e.userData.profile.mail}},[e._v(e._s(e.userData.profile.mail))])]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-xs-4 col-sm-3",attrs:{for:"phone"}},[e._v("more details:")]),e._v(" "),a("div",{staticClass:"col-xs-8 text-left"},[e.isReadOnly?e._e():a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.userData.profile.description,expression:"userData.profile.description"}],staticClass:"form-control",attrs:{readonly:e.isReadOnly},domProps:{value:e.userData.profile.description},on:{blur:e.saveSettings,input:function(t){t.target.composing||(e.userData.profile.description=t.target.value)}}}),e._v(" "),e.isReadOnly?a("label",{staticClass:"data"},[e._v(e._s(e.userData.profile.description))]):e._e()])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-xs-4 col-sm-3",attrs:{for:"phone"}},[e._v("gender:")]),e._v(" "),a("div",{staticClass:"col-xs-8 text-left"},[a("label",[a("i",{class:{fa:!0,"fa-male":!0,selected:1==e.userData.profile.gender},attrs:{"aria-hidden":"true"},on:{click:e.saveSettings}},[e.isReadOnly?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.profile.gender,expression:"userData.profile.gender"}],staticClass:"hidden",attrs:{type:"radio",name:"gender",value:"1",disabled:e.isReadOnly},domProps:{checked:e._q(e.userData.profile.gender,"1")},on:{__c:function(t){e.userData.profile.gender="1"}}})])]),e._v(" "),a("label",[a("i",{class:{fa:!0,"fa-female":!0,selected:2==e.userData.profile.gender},attrs:{"aria-hidden":"true"},on:{click:e.saveSettings}},[e.isReadOnly?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.profile.gender,expression:"userData.profile.gender"}],staticClass:"hidden",attrs:{type:"radio",name:"gender",value:"2",disabled:e.isReadOnly},domProps:{checked:e._q(e.userData.profile.gender,"2")},on:{__c:function(t){e.userData.profile.gender="2"}}})])]),e._v(" "),a("label",[a("i",{class:{fa:!0,"fa-question-circle-o":!0,selected:3==e.userData.profile.gender},attrs:{"aria-hidden":"true"},on:{click:e.saveSettings}},[e.isReadOnly?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.profile.gender,expression:"userData.profile.gender"}],staticClass:"hidden",attrs:{type:"radio",name:"gender",value:"3",disabled:e.isReadOnly},domProps:{checked:e._q(e.userData.profile.gender,"3")},on:{__c:function(t){e.userData.profile.gender="3"}}})])])])])])]),e._v(" "),e.isReadOnly?e._e():a("div",{staticClass:"save-settings"},[a("a",{staticClass:"btn btn-md btn-danger",on:{click:e.logout}},[e._v("logout")])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"eventControl",staticClass:"event-control",style:{top:e.location.top+"px",left:e.location.left+"px"},attrs:{id:"eventControl"}},[a("i",{staticClass:"fa fa-handshake-o"})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"settings"},[a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"active"},[a("a",{attrs:{"data-toggle":"tab",href:"#profile"},on:{click:function(t){e.selectedSettingsType=1}}},[a("i",{staticClass:"fa fa-user-circle",attrs:{"aria-hidden":"true"}})])]),e._v(" "),a("li",[a("a",{attrs:{"data-toggle":"tab",href:"#userTools"},on:{click:function(t){e.selectedSettingsType=2}}},[a("i",{staticClass:"fa fa-heart",attrs:{"aria-hidden":"true"}})])]),e._v(" "),a("li",[a("a",{attrs:{"data-toggle":"tab",href:"#userEvents"},on:{click:function(t){e.selectedSettingsType=3}}},[a("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}})])])]),e._v(" "),a("div",{staticClass:"tab-content"},[1===e.selectedSettingsType?a("div",{class:{"tab-pane":!0,fade:!0,in:1===e.selectedSettingsType,active:1===e.selectedSettingsType},attrs:{id:"profile"}},[1===e.selectedSettingsType?a("Profile",{attrs:{userId:e.$parent.userData.userId},on:{logout:e.logout}}):e._e()],1):e._e()]),e._v(" "),a("div",{staticClass:"tab-content"},[2===e.selectedSettingsType?a("div",{class:{"tab-pane":!0,fade:!0,in:2===e.selectedSettingsType,active:2===e.selectedSettingsType},attrs:{id:"userTools"}},[a("UserTools",{attrs:{userId:e.$parent.userData.userId,selectedTools:e.$parent.userData.tools}})],1):e._e()]),e._v(" "),a("div",{staticClass:"tab-content"},[3===e.selectedSettingsType?a("div",{class:{"tab-pane":!0,fade:!0,in:3===e.selectedSettingsType,active:3===e.selectedSettingsType},attrs:{id:"userEvents"}},[a("UserEvents",{attrs:{userId:e.$parent.userData.userId}})],1):e._e()])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chat-box col-xs-12",attrs:{disabled:!e.isActive}},[a("div",{ref:"messagesContainer",staticClass:"messages-wrapper col-xs-12"},[e.isLoading?a("div",[e._v("Getting messages")]):e._e(),e._v(" "),e._l(e.messages,function(t){return e.isLoading?e._e():a("div",{class:{"wrap-message":!0,"wrap-message-right":t.senderId===e.userData.userId}},[a("div",{staticClass:"chat-message"},[a("div",{staticClass:"message-sender"},[a("img",{attrs:{src:e.domain+"/images/avatar/"+t.senderId}})]),e._v(" "),a("p",[e._v(e._s(t.text))])])])}),e._v(" "),a("div",{staticClass:"chat-text"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMessage,expression:"newMessage"}],staticClass:"form-control send-message",attrs:{disabled:!e.isActive,placeholder:"enter message here","aria-describedby":"send-addon"},domProps:{value:e.newMessage},on:{input:function(t){t.target.composing||(e.newMessage=t.target.value)}}}),e._v(" "),a("span",{staticClass:"input-group-addon",attrs:{disabled:!e.isActive,id:"send-addon"},on:{click:e.sendMessage}},[a("i",{staticClass:"glyphicon glyphicon-send"})])])])],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-md-4 col-md-offset-4"},[a("div",{staticClass:"account-wall"},[a("img",{ref:"userAvater",staticClass:"profile-img",attrs:{src:"static/img/icons/icon.png",alt:""}}),e._v(" "),a("div",{staticClass:"form-signin"},[a("div",{staticClass:"form-group has-feedback"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userDetails.mail,expression:"userDetails.mail"},{name:"validate",rawName:"v-validate"}],class:{"form-control":!0,"error-input":e.errors.has("email")},attrs:{name:"email",type:"email","data-vv-rules":"required|email",placeholder:"email"},domProps:{value:e.userDetails.mail},on:{input:function(t){t.target.composing||(e.userDetails.mail=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"glyphicon glyphicon-exclamation-sign form-control-feedback"})]),e._v(" "),a("div",{staticClass:"form-group has-feedback"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userDetails.password,expression:"userDetails.password"},{name:"validate",rawName:"v-validate"}],class:{"form-control":!0,"error-input":e.errors.has("password")},attrs:{name:"password","data-vv-rules":"required",type:"password",placeholder:"password"},domProps:{value:e.userDetails.password},on:{input:function(t){t.target.composing||(e.userDetails.password=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"glyphicon glyphicon-exclamation-sign form-control-feedback"})]),e._v(" "),a("div",{staticClass:"form-group text-center controls"},[a("a",{staticClass:"btn btn-lg btn-primary",on:{click:e.login}},[e._v("login")])]),e._v(" "),a("div",{staticClass:"form-group text-center controls checkbox checkbox-circle checkbox-success"},[a("input",{ref:"letMeStay",attrs:{id:"checkbox3",type:"checkbox"}}),e._v(" "),a("label",{attrs:{for:"checkbox3"}},[e._v("\n                  i wanna stay\n              ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasErrors,expression:"hasErrors"}],ref:"errors",staticClass:"text-center alert alert-danger",attrs:{id:"errors"}})])])]),e._v(" "),a("a",{staticClass:"text-center new-account",attrs:{href:"#"},on:{click:e.showRegistration}},[e._v("i am new here")])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"register"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-md-4 col-md-offset-4"},[a("div",{staticClass:"account-wall"},[a("img",{ref:"userAvater",staticClass:"profile-img",attrs:{src:"static/img/icons/icon.png",alt:""}}),e._v(" "),a("div",{staticClass:"registration-form",style:{display:1==e.step?null:"none"}},[a("div",{staticClass:"form-group has-feedback"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userDetails.mail,expression:"userDetails.mail"},{name:"validate",rawName:"v-validate"}],class:{"form-control":!0,"error-input":e.errors.has("email")},attrs:{name:"email",type:"email","data-vv-rules":"required|email",placeholder:"email"},domProps:{value:e.userDetails.mail},on:{input:function(t){t.target.composing||(e.userDetails.mail=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("email"),expression:"errors.has('email')"}],staticClass:"glyphicon glyphicon-exclamation-sign form-control-feedback"})]),e._v(" "),a("div",{staticClass:"form-group has-feedback"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userDetails.password,expression:"userDetails.password"},{name:"validate",rawName:"v-validate"}],class:{"form-control":!0,"error-input":e.errors.has("password")},attrs:{name:"password","data-vv-rules":"required",type:"password",placeholder:"password"},domProps:{value:e.userDetails.password},on:{input:function(t){t.target.composing||(e.userDetails.password=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"glyphicon glyphicon-exclamation-sign form-control-feedback"})]),e._v(" "),a("div",{staticClass:"form-group text-center controls"},[a("a",{staticClass:"btn btn-lg btn-primary next",on:{click:e.next}},[e._v("next")])])]),e._v(" "),a("div",{staticClass:"registration-form",style:{display:2==e.step?null:"none"}},[a("div",{staticClass:"form-group has-feedback"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userDetails.name,expression:"userDetails.name"},{name:"validate",rawName:"v-validate"}],class:{"form-control":!0,"error-input":e.errors.has("name")},attrs:{name:"name","data-vv-rules":"required",placeholder:"name"},domProps:{value:e.userDetails.name},on:{input:function(t){t.target.composing||(e.userDetails.name=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"glyphicon glyphicon-exclamation-sign form-control-feedback"})]),e._v(" "),a("div",{staticClass:"form-group has-feedback"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userDetails.phone,expression:"userDetails.phone"},{name:"validate",rawName:"v-validate"}],class:{"form-control":!0,"error-input":e.errors.has("phone")},attrs:{name:"phone","data-vv-rules":"required|numeric",type:"number",placeholder:"phone number"},domProps:{value:e.userDetails.phone},on:{input:function(t){t.target.composing||(e.userDetails.phone=t.target.value)}}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("phone"),expression:"errors.has('phone')"}],staticClass:"glyphicon glyphicon-exclamation-sign form-control-feedback"})]),e._v(" "),a("div",{staticClass:"form-group has-feedback"},[a("label",{staticClass:"file-container"},[e._m(0),e._v(" "),a("input",{ref:"images",attrs:{type:"file",multiple:""},on:{change:e.avatarSelected}})])]),e._v(" "),a("div",{staticClass:"form-group text-center"},[a("a",{staticClass:"btn btn-lg btn-primary prev",on:{click:e.prev}},[e._v("prev")]),e._v(" "),a("a",{staticClass:"btn btn-lg btn-success next",on:{click:e.register}},[e._v("done")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasErrors,expression:"hasErrors"}],ref:"errors",staticClass:"text-center alert alert-danger",attrs:{id:"errors"}})])])]),e._v(" "),a("a",{staticClass:"text-center old-account",attrs:{href:"#"},on:{click:e.showLogin}},[e._v("i have an account")])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"btn btn-default file-loader"},[a("span",{staticClass:"fa fa-upload"}),e._v(" avatar\n                ")])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-view"},e._l(e.events,function(t){return a("div",{staticClass:"event"},[a("router-link",{attrs:{to:{path:"/events/edit/"+t.id}}},[a("div",{staticClass:"event-details"},[a("label",[e._v(e._s(e.stringifyDate(t.created)))])]),e._v(" "),a("div",{staticClass:"event-title"},[e._v(e._s(t.title))]),e._v(" "),a("div",{staticClass:"event-description"},[e._v("\n        "+e._s(t.description)+"\n      ")])])],1)}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-default navbar-fixed-top"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"mb-navbar-header"},[a("i",{staticClass:"fa fa-bell-o",attrs:{counter:e.$store.getters.notificationsCounter>10?"10+":e.$store.getters.notificationsCounter,"aria-hidden":"true"}}),e._v(" "),a("label",[a("router-link",{staticClass:"mb-navbar-brand",attrs:{to:"/"}},[e._v("Ukholo")]),e._v(" "),a("p",[e._v(" someone to trust ")])],1),e._v(" "),a("img",{staticClass:"mb-navbar-logo",attrs:{src:"static/img/icons/icon.png"}}),e._v(" "),a("a",{class:{on:e.navbarIsOpen},attrs:{id:"toggle"},on:{click:e.toggleSettings}},[a("span")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"data-view data-container"},[a("ul",{staticClass:"nav nav-tabs"},[a("li",{class:{active:2===e.userData.preferences.viewType}},[a("a",{attrs:{"data-toggle":"tab",href:"#sosMap"},on:{click:e.selectMapView}},[a("i",{staticClass:"fa fa-map-o",attrs:{"aria-hidden":"true"}})])]),e._v(" "),a("li",{class:{active:1===e.userData.preferences.viewType}},[a("a",{attrs:{"data-toggle":"tab",href:"#sosTable"},on:{click:e.selectTableView}},[a("i",{staticClass:"fa fa-list-ul",attrs:{"aria-hidden":"true"}})])])]),e._v(" "),a("div",{staticClass:"tab-content"},[a("div",{ref:"sosMapTab",class:{"tab-pane":!0,active:2===e.userData.preferences.viewType},attrs:{id:"sosMap"}},[2===e.userData.preferences.viewType?a("MapView",{attrs:{cases:e.cases,mapZoomLevel:e.userData.preferences.mapZoomLevel,currentLocation:e.currentLocation},on:{mapZoomChanged:e.mapZoomChanged}}):e._e()],1),e._v(" "),a("div",{ref:"sosTableTab",class:{"tab-pane":!0,active:1===e.userData.preferences.viewType},attrs:{id:"sosTable"}},[a("TableView",{attrs:{cases:e.cases,currentLocation:e.currentLocation}})],1)])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"information-button",on:{click:e.showInfo}},[a("i",{staticClass:"fa fa-info"}),e._v(" "),a("transition",{attrs:{name:"fade-short"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowingData,expression:"isShowingData"}],ref:"dataElement",staticClass:"information-data"},[e._v(e._s(e.data))])])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-view"},[0===e.cases.length?a("div",{staticClass:"no-cases empty-data"},[e._v("\n    nothing to show in your area\n  ")]):e._e(),e._v(" "),e._l(e.cases,function(t){return a("div",{class:{"help-issue":!0}},[a("router-link",{attrs:{to:{path:"/events/"+t.id}}},[a("div",{staticClass:"help-distance"},[a("label",[e._v(e._s(e.farwaway(t.location.lat,t.location.lng))+" -- "+e._s(e.stringifyDate(t.created)))])]),e._v(" "),a("div",{staticClass:"help-title"},[e._v(e._s(t.title))]),e._v(" "),a("div",{staticClass:"help-description"},[e._v("\n        "+e._s(t.description.length>e.maxDescriptionChars?t.description.substring(0,e.maxDescriptionChars)+"...":t.description)+"\n      ")])])],1)})],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"event-context-menu",style:{top:e.location.top-110+"px",left:e.location.left-35+"px"}},[a("span",{staticClass:"close",on:{click:e.hideContextMenu}},[a("i",{staticClass:"fa-times fa"})]),e._v(" "),a("ul",{staticClass:"context-menu"},[a("li",[a("router-link",{attrs:{to:"/help/sos"}},[e._v("Now")])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/help/event"}},[e._v("Help")])],1)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.$parent.isLoading?a("div",{staticClass:"loading-cover"},[e._m(0)]):e._e(),e._v(" "),a("transition",{attrs:{name:"fade"}},[!e.isLoggedIn&&e.isLoginForm&&e.isInitialized?a("Login",{on:{loggedIn:e.userAuthenticated,showRegistration:e.showRegistration}}):e._e()],1),e._v(" "),a("transition",{attrs:{name:"fade"}},[!e.isLoggedIn&&e.isRegistrationForm?a("Register",{on:{registered:e.userAuthenticated,showLogin:e.showLogin}}):e._e()],1),e._v(" "),e.isLoggedIn?a("div",{staticClass:"data-viewer"},[a("HeaderNavbar",{attrs:{notifications:e.notifications}}),e._v(" "),a("div",{staticClass:"view-router"},[a("StateControl"),e._v(" "),e.isLoggedIn?a("EventControl",{attrs:{location:e.userData.preferences.sosControlLocation},on:{eventControlLocationChanged:e.eventControlLocationChanged,contextMenu:e.eventControlContextMenu}}):e._e(),e._v(" "),a("EventContextMenu",{class:{hidden:!e.isShowingContextMenu},attrs:{location:e.getEventControlLocation},on:{hideContextMenu:e.eventControlContextMenu}}),e._v(" "),a("router-view")],1)],1):e._e()],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cover-content"},[a("img",{attrs:{src:"static/img/gifs/thinker-main.gif"}})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return"/"!==e.$route.path&&"/settings"!==e.$route.path?a("div",{staticClass:"state-control"},[a("span",{staticClass:"close",on:{click:e.goBack}},[a("i",{staticClass:"fa-times fa"})])]):e._e()},staticRenderFns:[]}}],[167]);
//# sourceMappingURL=app.c102cb0b112a24a9f344.js.map